(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5feb"],{GP86:function(e,t,a){"use strict";a.r(t);var r=a("kdw4"),i=a("XJYT"),n={name:"acceptorManagement",data:function(){return{penaltyName:"",dialogVisible:!1,deleteDialogVisible:!1,penaltydialogVisible:!1,username:"",tableKey:0,list:null,total:null,listLoading:!0,acceptorName:"",savescope:"",stopDialogVisible:!1,startDialogVisible:!1,listQuery:{page:1,limit:10},graded:[{value:"50",label:"50"},{value:"60",label:"60"},{value:"70",label:"70"},{value:"80",label:"80"}],gradedModel:"",ruleForm:{account:"",paydeposit:"",nickname:"",username:"",telephone:""},rules:{account:[{required:!0,message:"请输入账户名",trigger:"blur"},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:"blur"}],paydeposit:[{required:!0,message:"请输入已交押金",trigger:"blur"}],username:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}],telephone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{min:11,max:14,message:"请输入正确的联系电话:11位",trigger:"blur"}]},ruleForm1:{penaltyCash:"",penaltyTips:""},rules1:{penaltyCash:[{required:!0,message:"请输入正确罚款金额",trigger:"blur"},{min:1,max:200,message:"请输入正确罚款金额",trigger:"blur"}],penaltyTips:[{required:!0,message:"请输入备注说明",trigger:"blur"},{min:1,max:200,message:"请输入备注说明",trigger:"blur"}]}}},filters:{cash:function(e){return(e/1e4+"").length>4&&e/1e4>=1e4?Number(e/1e4/1e4).toFixed(2)+"万":Number(e/1e4).toFixed(2)}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0;var t={pageNo:this.listQuery.page,pageSize:this.listQuery.limit,searchKey:this.acceptorName};Object(r.c)(t).then(function(t){200===t.data.code?(e.list=t.data.data.resultList,e.total=t.data.data.total,setTimeout(function(){e.listLoading=!1},100)):(e.listLoading=!1,Object(i.Message)({message:t.data.message,type:"error",duration:5e3}))})},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleSearchClick:function(){this.listQuery.page=1,this.getList()},handleEditClick:function(e,t){this.savescope=t,this.ruleForm.account=e.account_name,this.ruleForm.paydeposit=(e.deposit/1e4+"").length>4&&e.deposit/1e4>=1e4?e.deposit/1e4/1e4+"万":e.deposit/1e4,this.ruleForm.nickname=e.nickname,this.ruleForm.username=e.fullname,this.ruleForm.telephone=e.telephone,this.dialogVisible=!0},submitSureForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;var n={fullname:t.ruleForm.username,userName:t.ruleForm.account,id:t.savescope.row.id,telephone:t.ruleForm.telephone};Object(r.f)(n).then(function(e){200===e.data.code?(a.list[a.savescope.$index].fullname=t.ruleForm.username,a.list[a.savescope.$index].telephone=t.ruleForm.telephone,Object(i.Message)({message:"修改成功",type:"success",duration:3e3}),t.dialogVisible=!1):(t.listLoading=!1,Object(i.Message)({message:e.data.message,type:"error",duration:5e3}))})})},handleStopClick:function(e,t){this.savescope=t,this.stopDialogVisible=!0},stopDialogClick:function(){var e=this;console.log(this.savescope,"+++++=this.savescope+++++=");var t=this,a={accepterStatus:"FROZEN",id:this.savescope.row.id,userName:this.savescope.row.account_name};Object(r.a)(a).then(function(a){200===a.data.code?(t.list[t.savescope.$index].accepterStatus="FROZEN",e.stopDialogVisible=!1):(e.listLoading=!1,Object(i.Message)({message:a.data.message,type:"error",duration:5e3}))})},handleStartClick:function(e,t){this.savescope=t,this.startDialogVisible=!0},startDialogClick:function(){var e=this,t=this,a={accepterStatus:"ACCEPTABILITY",id:this.savescope.row.id,userName:this.savescope.row.account_name};Object(r.a)(a).then(function(a){200===a.data.code?(t.list[t.savescope.$index].accepterStatus="ACCEPTABILITY",e.startDialogVisible=!1):(e.listLoading=!1,Object(i.Message)({message:a.data.message,type:"error",duration:5e3}))})},handleDeleteClick:function(e,t){this.savescope=t,this.deleteDialogVisible=!0},deleteDialogClick:function(){var e=this;Object(r.b)({id:this.savescope.row.id,userName:this.savescope.row.account_name}).then(function(t){200===t.data.code?(e.getList(),e.deleteDialogVisible=!1,e.$message({message:"移除成功",type:"success"})):(e.listLoading=!1,Object(i.Message)({message:t.data.message,type:"error",duration:5e3}))})},handlePenaltyClick:function(e,t){this.penaltyName=e.account_name,this.savescope=t,this.penaltydialogVisible=!0},handlePenaltySureClick:function(e){var t=this,a=this;this.$refs[e].validate(function(n){if(!n)return!1;var l={id:a.savescope.row.id,punishMoney:a.ruleForm1.penaltyCash,userName:t.penaltyName};Object(r.d)(l).then(function(a){200===a.data.code?(t.getList(),t.penaltydialogVisible=!1,t.$refs[e].resetFields(),Object(i.Message)({message:"修改成功",type:"success",duration:3e3})):(t.$refs[e].resetFields(),Object(i.Message)({message:a.data.message,type:"error",duration:5e3}))})})},changeGradeClick:function(e,t){var a={fullname:e.fullname,id:e.id,telephone:e.telephone,grade:e.grade};Object(r.f)(a).then(function(e){200===e.data.code?Object(i.Message)({message:"修改成功",type:"success",duration:3e3}):Object(i.Message)({message:e.data.message,type:"error",duration:5e3})})},resetpenaltyForm:function(e){this.ruleForm1.penaltyCash="",this.$refs[e].resetFields(),this.penaltydialogVisible=!1},resetForm:function(e){this.$refs[e].resetFields(),this.dialogVisible=!1}}},l=(a("X/6N"),a("KHd+")),s=Object(l.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"contaner-box"},[a("span",{staticClass:"box-spacing"},[a("el-input",{attrs:{placeholder:"请输入账户名",clearable:""},model:{value:e.acceptorName,callback:function(t){e.acceptorName=t},expression:"acceptorName"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.handleSearchClick}},[e._v("查询")])],1)]),e._v(" "),a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"账户名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.account_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"保证金(GAC)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("cash")(t.row.deposit)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["ACCEPTABILITY"===t.row.accepterStatus?a("span",[e._v("可承兑")]):e._e(),e._v(" "),"FROZEN"===t.row.accepterStatus?a("span",{staticStyle:{FROZEN:"red"}},[e._v("暂停承兑")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"交易次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("承兑人: "+e._s(t.row.account_name))]),e._v(" "),a("p",[e._v("交易次数: "+e._s(t.row.tradeNumber))]),e._v(" "),a("p",[a("span",[e._v("完成次数: "+e._s(t.row.finishNumber))]),a("span",{staticClass:"hoverRight"},[e._v("完成率: "+e._s((t.row.finishNumber/t.row.tradeNumber*100||0)+"%"))])]),e._v(" "),a("p",[e._v("平均放行时间: "+e._s(t.row.averageFinishTime))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("span",[e._v(e._s(t.row.tradeNumber))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"联系人"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.fullname))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"联系电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.telephone))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"评分"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择",id:"select"+t.$index},on:{change:function(a){e.changeGradeClick(t.row,t)}},model:{value:t.row.grade,callback:function(a){e.$set(t.row,"grade",a)},expression:"scope.row.grade"}},e._l(e.graded,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"300px;","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.handleEditClick(t.row,t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handlePenaltyClick(t.row,t)}}},[e._v("罚款")]),e._v(" "),"FROZEN"===t.row.accepterStatus?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleStartClick(t.row,t)}}},[e._v("启用")]):e._e(),e._v(" "),"ACCEPTABILITY"===t.row.accepterStatus?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleStopClick(t.row,t)}}},[e._v("暂停")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleDeleteClick(t.row,t)}}},[e._v("移除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑承兑人信息",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账户名",prop:"account"}},[a("el-input",{staticStyle:{width:"100%","margin-left":"0px"},attrs:{disabled:""},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"已交保证金",prop:"paydeposit"}},[a("el-input",{staticStyle:{width:"100%","margin-left":"0px"},attrs:{disabled:""},model:{value:e.ruleForm.paydeposit,callback:function(t){e.$set(e.ruleForm,"paydeposit",t)},expression:"ruleForm.paydeposit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"username"}},[a("el-input",{staticStyle:{width:"100%","margin-left":"0px"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"telephone"}},[a("el-input",{staticStyle:{width:"100%","margin-left":"0px"},model:{value:e.ruleForm.telephone,callback:function(t){e.$set(e.ruleForm,"telephone",t)},expression:"ruleForm.telephone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitSureForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"罚款",visible:e.penaltydialogVisible,width:"30%"},on:{"update:visible":function(t){e.penaltydialogVisible=t}}},[a("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账户名",prop:"account"}},[a("label",[e._v(e._s(e.penaltyName))])]),e._v(" "),a("el-form-item",{attrs:{label:"罚款金额",prop:"penaltyCash"}},[a("el-input",{staticStyle:{width:"100%","margin-left":"0px"},attrs:{placeholder:"请输入罚款金额"},model:{value:e.ruleForm1.penaltyCash,callback:function(t){e.$set(e.ruleForm1,"penaltyCash",t)},expression:"ruleForm1.penaltyCash"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注说明",prop:"penaltyTips"}},[a("el-input",{staticStyle:{width:"100%","margin-left":"0px"},attrs:{placeholder:"请输入备注说明"},model:{value:e.ruleForm1.penaltyTips,callback:function(t){e.$set(e.ruleForm1,"penaltyTips",t)},expression:"ruleForm1.penaltyTips"}})],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:function(t){e.resetpenaltyForm("ruleForm1")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handlePenaltySureClick("ruleForm1")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定要移除该承兑人吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteDialogClick}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.stopDialogVisible,width:"30%"},on:{"update:visible":function(t){e.stopDialogVisible=t}}},[a("span",[e._v("确定要暂停该承兑人的承兑权限吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.stopDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.stopDialogClick}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.startDialogVisible,width:"30%"},on:{"update:visible":function(t){e.startDialogVisible=t}}},[a("span",[e._v("确定要启用该承兑人的承兑权限吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.startDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.startDialogClick}},[e._v("确 定")])],1)])],1)},[],!1,null,"eacfc044",null);s.options.__file="acceptorManagement.vue";t.default=s.exports},"X/6N":function(e,t,a){"use strict";var r=a("p/Au");a.n(r).a},kdw4:function(e,t,a){"use strict";a.d(t,"k",function(){return l}),a.d(t,"e",function(){return s}),a.d(t,"c",function(){return o}),a.d(t,"f",function(){return u}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return p}),a.d(t,"d",function(){return d}),a.d(t,"n",function(){return m}),a.d(t,"o",function(){return f}),a.d(t,"m",function(){return g}),a.d(t,"h",function(){return h}),a.d(t,"t",function(){return b}),a.d(t,"s",function(){return v}),a.d(t,"r",function(){return y}),a.d(t,"j",function(){return _}),a.d(t,"g",function(){return k}),a.d(t,"l",function(){return F}),a.d(t,"q",function(){return w}),a.d(t,"p",function(){return C}),a.d(t,"i",function(){return S});var r=a("t3Un"),i=a("Qyje"),n=a.n(i);function l(e){return Object(r.a)({url:"accepter/apply/list",method:"get",params:e})}function s(e){return Object(r.a)({url:"accepter/apply/review",method:"post",data:n.a.stringify(e)})}function o(e){return Object(r.a)({url:"accepter/list",method:"get",params:e})}function u(e){return Object(r.a)({url:"accepter/update",method:"post",data:n.a.stringify(e)})}function c(e){return Object(r.a)({url:"accepter/alterStatus",method:"post",data:n.a.stringify(e)})}function p(e){return Object(r.a)({url:"accepter/delete",method:"post",params:e})}function d(e){return Object(r.a)({url:"accepter/punish",method:"post",data:n.a.stringify(e)})}function m(e){return Object(r.a)({url:"manager/tradeBill/queryTradeBill",method:"get",params:e})}function f(e){return Object(r.a)({url:"manager/autoShareProfit/queryShareBenefit",method:"get",params:e})}function g(e){return Object(r.a)({url:"manager/autoShareProfit/queryBenefitDetail",method:"get",params:e})}function h(e){return Object(r.a)({url:"manager/autoShareProfit/confirmExceptionBenefit",method:"post",data:n.a.stringify(e)})}function b(e){return Object(r.a)({url:"manager/autoShareProfit/updateExceptStatus",method:"post",data:n.a.stringify(e)})}function v(){return Object(r.a)({url:"manager/autoShareProfit/selectUnBenefitYear",method:"get"})}function y(e){return Object(r.a)({url:"manager/autoShareProfit/selectUnBenefitPeriods",method:"get",params:e})}function _(e){return Object(r.a)({url:"manager/autoShareProfit/confirmSelectUnBenefitPeriods",method:"post",data:n.a.stringify(e)})}function k(e){return Object(r.a)({url:"manager/autoShareProfit/confirmBenefitAction",method:"get",params:e})}function F(e){return Object(r.a)({url:"manager/autoShareProfit/queryAccepterBenefitDetail",method:"get",params:e})}function w(){return Object(r.a)({url:"manager/autoShareProfit/selectHistoryBenefitYear",method:"get"})}function C(e){return Object(r.a)({url:"manager/autoShareProfit/selectHistoryBenefitPeriods",method:"get",params:e})}function S(e){return Object(r.a)({url:"manager/autoShareProfit/confirmSelectHistoryBenefitPeriods",method:"post",data:n.a.stringify(e)})}},"p/Au":function(e,t,a){}}]);