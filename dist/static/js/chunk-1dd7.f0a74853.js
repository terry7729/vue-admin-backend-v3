(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1dd7"],{"6Yb+":function(e,t,r){},"6kXE":function(e,t,r){"use strict";var a=r("6Yb+");r.n(a).a},bx6Y:function(e,t,r){"use strict";r.r(t);var a=r("wk8/"),l=r("XJYT"),n={name:"userGroup",data:function(){return{tableKey:0,list:null,total:null,listLoading:!0,dialogVisible:!1,deleteDialogVisible:!1,dialogTitle:"",filePath:"",checkedBox:!1,saveValId:"",chkprivilege:0,ruleForm:{name:"",outCharge:"",inCharge:"",buyCharge:"",sellCharge:""},rules:{outCharge:[{required:!0,message:"请输入转账手续费",trigger:"blur"},{min:1,max:200,message:"请输入正确的转账手续费",trigger:"blur"}],inCharge:[{required:!0,message:"请输入收款手续费",trigger:"blur"},{min:1,max:200,message:"请输入正确的收款手续费",trigger:"blur"}],buyCharge:[{required:!0,message:"请输入买币手续费",trigger:"blur"},{min:1,max:200,message:"请输入正确的买币手续费",trigger:"blur"}],sellCharge:[{required:!0,message:"请输入卖币手续费",trigger:"blur"},{min:1,max:200,message:"请输入正确的卖币手续费",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;Object(a.g)().then(function(t){200===t.data.code?(e.list=t.data.data.UserClassesList,setTimeout(function(){e.listLoading=!1},100)):(e.listLoading=!1,Object(l.Message)({message:t.data.message,type:"error",duration:5e3}))})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;"普通用户"===t.ruleForm.name?t.ruleForm.name="ORDINARY":"承兑人"===t.ruleForm.name?t.ruleForm.name="ACCEPTER":t.ruleForm.name="BUSINESS",t.checkedBox?t.chkprivilege=1:t.chkprivilege=0;var r={id:t.saveValId,buyCharge:parseFloat(t.ruleForm.buyCharge),classesName:t.ruleForm.name,inCharge:parseFloat(t.ruleForm.inCharge),outCharge:parseFloat(t.ruleForm.outCharge),privilege:t.chkprivilege,sellCharge:parseFloat(t.ruleForm.sellCharge)};Object(a.b)(r).then(function(e){200===e.data.code?(t.getList(),t.dialogVisible=!1,Object(l.Message)({message:"修改成功",type:"success",duration:3e3})):Object(l.Message)({message:e.data.message,type:"error",duration:5e3})})})},handleEditCLick:function(e,t){this.saveValId=e.id,this.dialogTitle="编辑分组","ORDINARY"===e.classesName?this.ruleForm.name="普通用户":"ACCEPTER"===e.classesName?this.ruleForm.name="承兑人":this.ruleForm.name="商家",0===e.privilege?this.checkedBox=!1:this.checkedBox=!0,this.ruleForm.outCharge=e.outCharge+"%",this.ruleForm.inCharge=e.inCharge+"%",this.ruleForm.buyCharge=e.buyCharge+"%",this.ruleForm.sellCharge=e.sellCharge+"%",this.dialogVisible=!0},resetForm:function(e){this.$refs[e].resetFields(),this.dialogVisible=!1}}},i=(r("6kXE"),r("KHd+")),s=Object(i.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"tab-container"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{align:"center",label:"序号",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"分组名称"},scopedSlots:e._u([{key:"default",fn:function(t){return["ORDINARY"===t.row.classesName?r("span",[e._v("普通用户")]):e._e(),e._v(" "),"ACCEPTER"===t.row.classesName?r("span",[e._v("承兑人")]):e._e(),e._v(" "),"BUSINESS"===t.row.classesName?r("span",[e._v("商家")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"转账手续费"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.outCharge+"%"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"收款手续费"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.inCharge+"%"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"买币手续费"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.buyCharge+"%"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"卖币手续费"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.sellCharge+"%"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"特权"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.privilege?r("span",[e._v("无")]):e._e(),e._v(" "),1==t.row.privilege?r("span",[e._v("免收款方手续费")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){e.handleEditCLick(t.row,t)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"分组名称",prop:"name"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"转账手续费"}},[r("el-input",{attrs:{placeholder:"0%"},model:{value:e.ruleForm.outCharge,callback:function(t){e.$set(e.ruleForm,"outCharge",t)},expression:"ruleForm.outCharge"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收款手续费",prop:"getfee"}},[r("el-input",{attrs:{placeholder:"0%"},model:{value:e.ruleForm.inCharge,callback:function(t){e.$set(e.ruleForm,"inCharge",t)},expression:"ruleForm.inCharge"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"买币手续费",prop:"buyfee"}},[r("el-input",{attrs:{placeholder:"0%"},model:{value:e.ruleForm.buyCharge,callback:function(t){e.$set(e.ruleForm,"buyCharge",t)},expression:"ruleForm.buyCharge"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"卖币手续费",prop:"sellfee"}},[r("el-input",{attrs:{placeholder:"0%"},model:{value:e.ruleForm.sellCharge,callback:function(t){e.$set(e.ruleForm,"sellCharge",t)},expression:"ruleForm.sellCharge"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"特权",prop:"sellfee"}},[r("el-checkbox",{model:{value:e.checkedBox,callback:function(t){e.checkedBox=t},expression:"checkedBox"}},[e._v("免收款手续费")])],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[r("span",[e._v("确定要删除该分组吗？")]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("确 定")])],1)])],1)},[],!1,null,"41e7387e",null);s.options.__file="userGroup.vue";t.default=s.exports},"wk8/":function(e,t,r){"use strict";r.d(t,"j",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"g",function(){return o}),r.d(t,"b",function(){return u}),r.d(t,"f",function(){return c}),r.d(t,"h",function(){return m}),r.d(t,"c",function(){return g}),r.d(t,"e",function(){return d}),r.d(t,"d",function(){return h}),r.d(t,"i",function(){return f}),r.d(t,"k",function(){return b});var a=r("t3Un"),l=r("Qyje"),n=r.n(l);function i(e){return Object(a.a)({url:"user/queryUser",method:"get",params:e})}function s(e){return Object(a.a)({url:"user/alterUserStatus",method:"post",data:n.a.stringify(e)})}function o(){return Object(a.a)({url:"manager/listUserClasses",method:"get"})}function u(e){return Object(a.a)({url:"manager/editUserClasses",method:"post",data:n.a.stringify(e)})}function c(){return Object(a.a)({url:"msgcenter/chatOper/getClientList",method:"post"})}function m(e){return Object(a.a)({url:"msgcenter/chatOper/sendChatMsg",method:"post",data:n.a.stringify(e)})}function g(e){return Object(a.a)({url:"manager/findUser",method:"get",params:e})}function d(e){return Object(a.a)({url:"msgcenter/chatOper/getLatestRecordFromUser",method:"post",params:n.a.stringify(e)})}function h(e){return Object(a.a)({url:"msgcenter/chatOper/getHistoryRecord",method:"post",params:n.a.stringify(e)})}function f(e){return Object(a.a)({url:"manager/chargeRecord/queryChargeRecord",method:"get",params:e})}function b(e){return Object(a.a)({url:"manager/chargeRecord/stateAllChargeInfoByRange",method:"get",params:e})}}}]);